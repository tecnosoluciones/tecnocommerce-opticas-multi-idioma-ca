window.et_panel=window.et_panel||{},function(s){var i={popup:s(".et_panel-popup"),closePopupIcon:'<span class="et_close-popup et-button-cancel et-button"><i class="et-admin-icon et-delete"></i></span>',spinner:'<div class="et-loader ">\t\t\t\t\t<svg class="loader-circular" viewBox="25 25 50 50">\t\t\t\t\t<circle class="loader-path" cx="50" cy="50" r="12" fill="none" stroke-width="2" stroke-miterlimit="10"></circle>\t\t\t\t\t</svg>\t\t\t\t</div>'},e=(window.et_panel=Object.assign(window.et_panel,{welcome_support_refresh:function(e,t){s(document).on("click",".et_support-refresh",function(e){e.preventDefault();var t=s(this).parents(".et_support-block"),a=t.find(".et_support-status"),o=s(".temp-msg");t.hasClass("processing")||(t.addClass("processing"),s.ajax({method:"POST",url:ajaxurl,dataType:"json",data:{action:"et_support_refresh"},success:function(e){"success"==e.status&&e.html&&(a.after(s(e.html).find(".et_support-status")),a.remove()),o.html(e.msg)},complete:function(e){t.removeClass("processing"),setTimeout(function(){o.html("")},1e3)},error:function(){t.removeClass("processing"),o.html("ajax error!")}}))})},welcome_theme_deactivate:function(e,t){t.preventDefault();var a=window.location.href;e.hasClass("new-theme-deactivate")?jQuery.ajax({type:"POST",dataType:"JSON",url:ajaxurl,data:{action:"etheme_deactivate_theme"},success:function(e){"deleted"==e.status||"not_found"==e.status?(a=(a=a.replace("_options&tab=1","xstore_activation_page")).replace("_options","xstore_activation_page"),window.location.href=a):jQuery.ajax({type:"POST",dataType:"JSON",url:ajaxurl,data:{action:"et_ajax_panel_popup",type:"deregister"},success:function(e){s("body").addClass("et_panel-popup-on"),i.popup.html("").addClass("loading"),i.popup.prepend(i.closePopupIcon),i.popup.addClass("style-2 panel-popup-theme-deregister").append(e.content),s(".et_close-popup").on("click",function(){s(".et_theme-deactivator").removeClass("loading")}),i.popup.addClass("active").removeClass("loading"),s(".panel-popup-theme-deregister .et_close-popup").on("click",function(){jQuery.ajax({type:"POST",dataType:"JSON",url:ajaxurl,data:{action:"etheme_deactivate_theme"},success:function(e){"deleted"==e.status&&(a=(a=a.replace("_options&tab=1","xstore_activation_page")).replace("_options","xstore_activation_page"),window.location.href=a)},error:function(e){alert("Error while deactivating")}})})},error:function(e){alert("Ajax Error!")}})},error:function(e){alert("Error while deactivating")}}):confirm("Before proceeding with the deactivation of this domain, we want to confirm your decision. As part of our commitment to adhering to Envato's policy of 1 live site and 2 staging sites, we manually verify each domain to ensure compliance.")?jQuery.ajax({type:"POST",dataType:"JSON",url:ajaxurl,data:{action:"etheme_deactivate_theme"},success:function(e){"deleted"==e.status&&(a=(a=a.replace("_options&tab=1","xstore_activation_page")).replace("_options","xstore_activation_page"),window.location.href=a)},error:function(e){alert("Error while deactivating")}}):setTimeout(function(){e.removeClass("loading")},300)},welcome_registration_popup:function(e,t){t.preventDefault();var a=s("#purchase-code").val(),n=window.location.href;s(".et-message.et-error").remove(),jQuery.ajax({type:"POST",dataType:"JSON",url:ajaxurl,data:{action:"etheme_check_activation_data",purchase_code:a},success:function(o){"error"!=o.status?"old_type"==o.type?jQuery.ajax({type:"POST",dataType:"JSON",url:ajaxurl,data:{action:"etheme_activate_theme",purchase_code:a},success:function(e){},error:function(e){alert("Error while activation")},complete:function(){location.reload()}}):jQuery.ajax({type:"POST",dataType:"JSON",url:ajaxurl,data:{action:"et_ajax_panel_popup",type:"registration",code:a},success:function(e){s("body").addClass("et_panel-popup-on"),i.popup.html("").addClass("loading"),i.popup.prepend(i.closePopupIcon),i.popup.addClass("style-2 panel-popup-theme-registration").append(e.content),s(".et_close-popup").on("click",function(){s(".activate-license-btn-holder").removeClass("loading"),window.location=n}),i.popup.addClass("active").removeClass("loading"),s(".domain-selector").on("click",function(e){s(this).find('[name="domain_type"]').trigger("change").prop("checked",!0)}),s('[name="domain_type"]').on("change",function(e){var t=s(".popup-domain-confirm"),a=s(".domain-selectors");t.removeClass("enabled"),t.parents(".tooltip-container").removeClass("active"),s(".domain-selector.active").removeClass("active"),s(this).parents(".domain-selector").addClass("active"),s(".domain-api-error").remove(),s(this).is("#et_register_domain_type_staging")?(s(".staging-domain-error").addClass("active").removeClass("hidden"),s(".live-domain-error").removeClass("active").addClass("hidden"),void 0!==o.notice&&"staging_domains"==o.notice.type?a.after('<div class="et-message et-error domain-api-error">'+o.notice.notice+"</div>"):(t.addClass("enabled"),t.parents(".tooltip-container").addClass("active")),s(".staging-domain-error").length&&t.removeClass("enabled")):(s(".live-domain-error").addClass("active").removeClass("hidden"),s(".staging-domain-error").removeClass("active").addClass("hidden"),void 0!==o.notice&&"live_domains"==o.notice.type?a.after('<div class="et-message et-error domain-api-error">'+o.notice.notice+"</div>"):(t.addClass("enabled"),t.parents(".tooltip-container").addClass("active")),s(".live-domain-error").length&&t.removeClass("enabled"))}),s(document).on("click",".popup-domain-confirm.enabled",function(){s(".popup-step").addClass("hidden"),s(".popup-step.step-2").removeClass("hidden"),s(".tooltip-trigger").addClass("hidden"),s(".popup-theme-register").removeClass("hidden")}),s(document).on("click",".popup-theme-register.enabled",function(){s(".steps-block-content").addClass("loading"),jQuery.ajax({type:"POST",dataType:"JSON",url:ajaxurl,data:{action:"etheme_activate_theme",purchase_code:a},success:function(e){("success"==e.status?(s(".popup-step").addClass("hidden"),s(".popup-step.step-3").removeClass("hidden"),s(".tooltip-trigger").addClass("hidden"),s(".popup-go-to-import")):s(".registration-error").html(e.msg)).removeClass("hidden")},error:function(e){alert("Error while activation")},complete:function(){s(".steps-block-content").removeClass("loading")}})}),s(document).on("click",".popup-domain-confirm:not(.enabled), .popup-theme-register:not(.enabled)",function(e){e.preventDefault()}),s(".checkbox-steps").on("change",function(e){var t=s(this).prop("checked"),a=s(this).parents(".section-block"),o=s(".popup-theme-register");t?(a.addClass("enabled"),a.next(".section-block").removeClass("invisible"),s(this).parent().addClass("switched")):(a.removeClass("enabled"),s(this).parent().removeClass("switched")),s("#deregister-domain-section-1").prop("checked")&&s("#deregister-domain-section-2").prop("checked")&&s("#deregister-domain-section-4").prop("checked")?(o.addClass("enabled"),o.parents(".tooltip-container").addClass("active")):(o.removeClass("enabled"),o.parents(".tooltip-container").removeClass("active"))})},error:function(e){alert("Ajax Error!")}}):s(".etheme-panel-page-welcome").prepend(o.msg)},error:function(e){alert("Error while deactivating")},complete:function(){s(".activate-license-btn-holder").removeClass("loading")}})},et_theme_refresh:function(e,t){e.addClass("loading-rotate")}}),{1:{selector:"",type:"ready",callback:et_panel.welcome_support_refresh},2:{selector:".et_theme-deactivator",type:"click",callback:et_panel.welcome_theme_deactivate},3:{selector:".activate-license-btn-holder.popup-caller",type:"click",callback:et_panel.welcome_registration_popup},4:{selector:".et_theme-refresh",type:"click",callback:et_panel.et_theme_refresh}});s.each(e,function(e,t){"ready"==t.type?s(document).ready(function(e){t.callback(s(this),e)}):s(t.selector).on(t.type,function(e){t.callback(s(this),e)})})}(jQuery,window.et_panel);