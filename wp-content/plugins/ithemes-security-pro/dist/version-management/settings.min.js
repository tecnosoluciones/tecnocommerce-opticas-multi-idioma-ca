(globalThis.itsecWebpackJsonP=globalThis.itsecWebpackJsonP||[]).push([[6070],{37206:(e,t,a)=>{"use strict";a.r(t);var n=a(6293),s=a(95122),l=a(3571),c=a(92819),i=a(94184),r=a.n(i),o=a(48015),m=a(9576),u=a(64893),p=a(87514),d=a.n(p),_=a(31600),h=a(33590),b=a(8476),g=a(36179);const y=()=>d()({path:"/ithemes-security/rpc/version-management/packages"}),k={plugin:{label:(0,s.__)("Plugin Name","it-l10n-ithemes-security-pro"),bulk:(0,s.__)("Select all plugins","it-l10n-ithemes-security-pro"),caption:(0,s.__)("Configure how plugins should be automatically updated.","it-l10n-ithemes-security-pro")},theme:{label:(0,s.__)("Theme Name","it-l10n-ithemes-security-pro"),bulk:(0,s.__)("Select all themes","it-l10n-ithemes-security-pro"),caption:(0,s.__)("Configure how themes should be automatically updated.","it-l10n-ithemes-security-pro")}};function E(){const{status:e,value:t}=(0,b.r5)(y);return"success"!==e?null:(0,n.createElement)(React.Fragment,null,(0,n.createElement)(h.bB,{name:"itsec_version-management_plugin_automatic_updates"},(({formData:e})=>"custom"===e&&(0,n.createElement)(v,{kind:"plugin",packages:t,labels:k.plugin}))),(0,n.createElement)(h.bB,{name:"itsec_version-management_theme_automatic_updates"},(({formData:e})=>"custom"===e&&(0,n.createElement)(v,{kind:"theme",packages:t,labels:k.theme}))))}function v({kind:e,packages:t,labels:a}){const s=(0,m.useInstanceId)(v,"itsec-vm-packages"),l=(0,o.useSelect)((e=>e(_.MODULES_STORE_NAME).getEditedSetting("version-management","packages"))),{editSetting:i}=(0,o.useDispatch)(_.MODULES_STORE_NAME),[r,u]=(0,n.useState)([]);if(!(0,c.isPlainObject)(l))return null;const p=t.filter((t=>t.kind===e));return(0,n.createElement)("div",{className:"itsec-vm-app"},(0,n.createElement)("table",null,(0,n.createElement)("caption",null,a.caption),(0,n.createElement)(N,{instanceId:s,isChecked:r.length===p.length,setIsChecked:e=>{u(e?p.map((e=>e.id)):[])},onBulkAction:(e,t)=>{const a={...l};r.forEach((n=>a[n]={...l[n],type:e,delay:void 0===t?l[n].delay:t})),i("version-management","packages",a)},labels:a}),(0,n.createElement)("tbody",null,p.map((e=>(0,n.createElement)(w,{key:e.id,instanceId:s,item:e,value:l[e.id],onChange:t=>i("version-management","packages",{...l,[e.id]:t}),isChecked:r.includes(e.id),setIsChecked:t=>u(t?[...r,e.id]:r.filter((t=>t!==e.id)))}))))))}function N({instanceId:e,isChecked:t,setIsChecked:a,onBulkAction:l,labels:c}){const[i,r]=(0,n.useState)(),o=[{type:"enabled",label:(0,s.__)("Enable","it-l10n-ithemes-security-pro"),description:(0,s.__)("Enable auto updates for all checked items.","it-l10n-ithemes-security-pro")},{type:"disabled",label:(0,s.__)("Disable","it-l10n-ithemes-security-pro"),description:(0,s.__)("Disable auto updates for all checked items.","it-l10n-ithemes-security-pro")},{type:"delay",label:(0,s.__)("Delay","it-l10n-ithemes-security-pro"),description:(0,s.__)("Delay auto updates for all checked items.","it-l10n-ithemes-security-pro")}];return(0,n.createElement)("thead",null,(0,n.createElement)("tr",{className:"itsec-vm-header"},(0,n.createElement)("th",{className:"itsec-vm-column__bulk"},(0,n.createElement)(g.Z8,{checked:t,onChange:a,label:c.bulk,hideLabelFromVision:!0})),(0,n.createElement)("th",{className:"itsec-vm-column__name"},c.label),o.map((({type:t,label:a,description:s})=>(0,n.createElement)("th",{key:t,className:`itsec-vm-column__${t}`,"aria-label":a},(0,n.createElement)(u.VisuallyHidden,{id:`${e}__${t}_help`},s),(0,n.createElement)("button",{type:"button",onClick:()=>l(t,"delay"===t?i:void 0),className:`itsec-vm-header__button itsec-vm-header__button--${t}`,"aria-describedby":`${e}__${t}_help`},a)))),(0,n.createElement)("th",{className:"itsec-vm-column__days"},(0,n.createElement)(u.TextControl,{type:"number",value:i,onChange:r,min:1,placeholder:(0,s.__)("3 Days","it-l10n-ithemes-security-pro"),label:(0,s.__)("Delay Update for Days","it-l10n-ithemes-security-pro"),hideLabelFromVision:!0}))))}function w({item:e,instanceId:t,value:a={type:"enabled",delay:3},onChange:l,isChecked:c,setIsChecked:i}){const o=[{type:"enabled",label:(0,s.__)("Enabled","it-l10n-ithemes-security-pro")},{type:"disabled",label:(0,s.__)("Disabled","it-l10n-ithemes-security-pro")},{type:"delay",label:(0,s.__)("Delay","it-l10n-ithemes-security-pro")}];return(0,n.createElement)("tr",{className:r()("itsec-vm-package",`itsec-vm-package--type-${a.type}`)},(0,n.createElement)("td",{headers:`itsec-vm-bulk-select itsec-vm-package__name-${e.id}`,className:"itsec-vm-package__bulk itsec-vm-column__bulk"},(0,n.createElement)(g.Z8,{id:`${t}__bulk-${e.id}`,checked:c,onChange:i})),(0,n.createElement)("th",{scope:"row",id:`${t}__name-${e.id}`,className:"itsec-vm-package__name itsec-vm-column__name"},(0,n.createElement)("label",{htmlFor:`${t}__bulk-${e.id}`},e.name)),o.map((({type:s,label:c})=>(0,n.createElement)("td",{key:s,className:`itsec-vm-package__type itsec-vm-package__type--${s} itsec-vm-column__${s}`},(0,n.createElement)("input",{type:"radio",name:`${t}[${e.id}][type]`,id:`${t}__type--${s}-${e.id}`,value:s,checked:a.type===s,onChange:()=>l({...a,type:s})}),(0,n.createElement)("label",{htmlFor:`${t}__type--${s}-${e.id}`},(0,n.createElement)("span",{className:"screen-reader-text"},c))))),(0,n.createElement)("td",{className:"itsec-vm-package__delay itsec-vm-column__days"},(0,n.createElement)(u.TextControl,{type:"number",value:a.delay,onChange:e=>l({...a,delay:e}),min:1,placeholder:(0,s.__)("3 Days","it-l10n-ithemes-security-pro"),label:(0,s.__)("Delay Update for Days","it-l10n-ithemes-security-pro"),hideLabelFromVision:!0})))}a.p=window.itsecWebpackPublicPath,(0,s.setLocaleData)({"":{}},"ithemes-security-pro"),(0,l.registerPlugin)("itsec-version-management-settings",{render:()=>(0,n.createElement)(E,null)})},31600:e=>{e.exports=function(){return this.itsec.packages.data}()},82839:e=>{e.exports=function(){return this.wp.a11y}()},87514:e=>{e.exports=function(){return this.wp.apiFetch}()},64893:e=>{e.exports=function(){return this.wp.components}()},9576:e=>{e.exports=function(){return this.wp.compose}()},48015:e=>{e.exports=function(){return this.wp.data}()},82521:e=>{e.exports=function(){return this.wp.date}()},6293:e=>{e.exports=function(){return this.wp.element}()},95122:e=>{e.exports=function(){return this.wp.i18n}()},81834:e=>{e.exports=function(){return this.wp.isShallowEqual}()},81019:e=>{e.exports=function(){return this.wp.keycodes}()},3571:e=>{e.exports=function(){return this.wp.plugins}()},14776:e=>{e.exports=function(){return this.wp.primitives}()},73470:e=>{e.exports=function(){return this.wp.url}()},99196:e=>{"use strict";e.exports=window.React},91850:e=>{"use strict";e.exports=window.ReactDOM},92819:e=>{"use strict";e.exports=window.lodash},76292:e=>{"use strict";e.exports=window.moment}},e=>{e.O(0,[7271,1930,5307,9443,135,976,6179,2018],(()=>(37206,e(e.s=37206))));var t=e.O();((window.itsec=window.itsec||{})["version-management"]=window.itsec["version-management"]||{}).settings=t}]);