(globalThis.itsecWebpackJsonP=globalThis.itsecWebpackJsonP||[]).push([[9415],{86219:(e,t,n)=>{"use strict";n.r(t);var r=n(6293),o=n(3571),s=n(95122),a=n(46725),i=n(92819),c=n(93162),l=n(73727),u=n(82521),p=n(48015),d=n(14776);const m=(0,r.createElement)(d.SVG,{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24"},(0,r.createElement)(d.Path,{d:"M18 11.3l-1-1.1-4 4V3h-1.5v11.3L7 10.2l-1 1.1 6.2 5.8 5.8-5.8zm.5 3.7v3.5h-13V15H4v5h16v-5h-1.5z"})),w=(0,r.createElement)(d.SVG,{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24"},(0,r.createElement)(d.Path,{d:"M20 5h-5.7c0-1.3-1-2.3-2.3-2.3S9.7 3.7 9.7 5H4v2h1.5v.3l1.7 11.1c.1 1 1 1.7 2 1.7h5.7c1 0 1.8-.7 2-1.7l1.7-11.1V7H20V5zm-3.2 2l-1.7 11.1c0 .1-.1.2-.3.2H9.1c-.1 0-.3-.1-.3-.2L7.2 7h9.6z"}));var f=n(51604),g=n(71930),E=n(1986),x=n(8476),h=n(31511),v=n(20136),y=n(52930),b=n(52117),R=n(64893);const S=(0,b.Z)(g.X6,{target:"e1l8ww4k4"})({name:"1oax00r",styles:"margin:1rem 0"}),L=(0,b.Z)(R.Card,{target:"e1l8ww4k3"})("box-shadow:none!important;border:1px solid ",(({theme:e})=>e.colors.border.normal),";"),O=(0,b.Z)(R.CardHeader,{target:"e1l8ww4k2"})({name:"477tvm",styles:"padding:0.5rem 1.25rem!important"}),_=(0,b.Z)("div",{target:"e1l8ww4k1"})("display:flex;flex-direction:column;justify-content:flex-end;gap:1.25rem;@media screen and (min-width: ",(({theme:e})=>e.breaks.small),"px){flex-direction:row;}"),k=(0,b.Z)(R.CardBody,{target:"e1l8ww4k0"})({name:"12rqmfr",styles:"&.components-card__body{padding:0;}"}),A=e=>new Promise((t=>setTimeout(t,e)));function B(){const[e,t]=(0,r.useState)(!1),[n,o]=(0,r.useState)(!1),[a,d,b,R]=(0,x.$X)(),{exports:B,sources:T,isLoading:M}=(0,p.useSelect)((e=>({exports:e(v.STORE_NAME).getExports(),sources:e(v.STORE_NAME).getSources(),isLoading:!e(v.STORE_NAME).hasFinishedResolution("getExports")})),[]),{deleteExports:N}=(0,p.useDispatch)(v.STORE_NAME),C=(0,h.bv)("settings","/import");return(0,r.createElement)(React.Fragment,null,(0,r.createElement)(S,{level:2,size:g.yH.LARGE,variant:g.rK.DARK,weight:600,text:(0,s.__)("Import and Export","it-l10n-ithemes-security-pro")}),(0,r.createElement)(L,null,(0,r.createElement)(O,{size:"extraSmall",isBorderless:!0},(0,r.createElement)(_,null,(0,r.createElement)(g.zx,{icon:m,variant:"tertiary",text:(0,s.__)("Download","it-l10n-ithemes-security-pro"),disabled:0===a.length||n,isBusy:n,onClick:async()=>{o(!0);for(const e of B)if(a.includes(e.id)){const t=new window.Blob([JSON.stringify((0,i.omit)(e,["_links"]))],{type:"text/plain;charset=utf-8"}),n=e.metadata.title?(0,i.kebabCase)(e.metadata.title):(0,u.gmdate)("y-m-d",e.metadata.exported_at);(0,c.saveAs)(t,`itsec-export-${n}.json`),await A(1e3)}o(!1)}}),(0,r.createElement)(g.zx,{icon:w,variant:"tertiary",text:(0,s.__)("Delete","it-l10n-ithemes-security-pro"),disabled:0===a.length||e,isBusy:e,onClick:async()=>{t(!0),await N(a),t(!1),R([])}})),(0,r.createElement)(E.Xp,null),(0,r.createElement)(_,null,(0,r.createElement)(g.zx,{href:C,icon:f.Z,variant:"tertiary",text:(0,s.__)("Import","it-l10n-ithemes-security-pro")}),(0,r.createElement)(l.rU,{to:"/export",component:(0,x.Sj)(g.zx),variant:"secondary"},(0,s.__)("Create New Export","it-l10n-ithemes-security-pro")))),(0,r.createElement)(k,null,(0,r.createElement)(y.ExportsList,{exports:B,sources:T,selected:a,addSelected:d,removeSelected:b,setSelected:R,isLoading:M}))))}const T=(0,b.Z)(g.rN,{target:"e13pti2t0"})({name:"1oax00r",styles:"margin:1rem 0"});function M(){const{sources:e,isCreating:t,lastResult:n}=(0,p.useSelect)((e=>({sources:e(v.STORE_NAME).getSources(),isCreating:e(v.STORE_NAME).isCreatingExport(),lastResult:e(v.STORE_NAME).getLastCreatedExportResult()})),[]),{createExport:o}=(0,p.useDispatch)(v.STORE_NAME);return(0,r.createElement)(a.PageContainer,null,(0,r.createElement)(a.PageHeader,null),n?.isSuccess()&&(0,r.createElement)(T,{type:"success",hasBorder:!0,messages:[(0,s.__)("Export created.","it-l10n-ithemes-security-pro")]}),(0,r.createElement)(N,{result:n,hasBorder:!0}),e.length>0&&(0,r.createElement)(y.ExportForm,{sources:e,isCreating:t,createExport:o,titleRequired:!0}))}function N({result:e,hasBorder:t}){var n,o,s;return(0,r.createElement)(React.Fragment,null,(0,r.createElement)(g.rN,{hasBorder:t,messages:null!==(n=e?.success)&&void 0!==n?n:[],type:"success"}),(0,r.createElement)(g.rN,{hasBorder:t,messages:null!==(o=e?.warning)&&void 0!==o?o:[],type:"warning"}),(0,r.createElement)(g.rN,{hasBorder:t,messages:null!==(s=e?.info)&&void 0!==s?s:[],type:"info"}))}function C(){return(0,r.createElement)(React.Fragment,null,(0,r.createElement)(a.BeforeImportExportToolsFill,null,(0,r.createElement)(B,null)),(0,r.createElement)(a.ExportFill,null,(0,r.createElement)(M,null)))}n.p=window.itsecWebpackPublicPath,(0,s.setLocaleData)({"":{}},"ithemes-security-pro"),(0,o.registerPlugin)("itsec-import-export-tools",{render:()=>(0,r.createElement)(C,null)})},51604:(e,t,n)=>{"use strict";n.d(t,{Z:()=>s});var r=n(6293),o=n(14776);const s=(0,r.createElement)(o.SVG,{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24"},(0,r.createElement)(o.Path,{d:"M18.5 15v3.5H13V6.7l4.5 4.1 1-1.1-6.2-5.8-5.8 5.8 1 1.1 4-4v11.7h-6V15H4v5h16v-5z"}))},93162:function(e,t,n){var r,o;void 0===(o="function"==typeof(r=function(){"use strict";function t(e,t,n){var r=new XMLHttpRequest;r.open("GET",e),r.responseType="blob",r.onload=function(){i(r.response,t,n)},r.onerror=function(){console.error("could not download file")},r.send()}function r(e){var t=new XMLHttpRequest;t.open("HEAD",e,!1);try{t.send()}catch(e){}return 200<=t.status&&299>=t.status}function o(e){try{e.dispatchEvent(new MouseEvent("click"))}catch(n){var t=document.createEvent("MouseEvents");t.initMouseEvent("click",!0,!0,window,0,0,0,80,20,!1,!1,!1,!1,0,null),e.dispatchEvent(t)}}var s="object"==typeof window&&window.window===window?window:"object"==typeof self&&self.self===self?self:"object"==typeof n.g&&n.g.global===n.g?n.g:void 0,a=s.navigator&&/Macintosh/.test(navigator.userAgent)&&/AppleWebKit/.test(navigator.userAgent)&&!/Safari/.test(navigator.userAgent),i=s.saveAs||("object"!=typeof window||window!==s?function(){}:"download"in HTMLAnchorElement.prototype&&!a?function(e,n,a){var i=s.URL||s.webkitURL,c=document.createElement("a");n=n||e.name||"download",c.download=n,c.rel="noopener","string"==typeof e?(c.href=e,c.origin===location.origin?o(c):r(c.href)?t(e,n,a):o(c,c.target="_blank")):(c.href=i.createObjectURL(e),setTimeout((function(){i.revokeObjectURL(c.href)}),4e4),setTimeout((function(){o(c)}),0))}:"msSaveOrOpenBlob"in navigator?function(e,n,s){if(n=n||e.name||"download","string"!=typeof e)navigator.msSaveOrOpenBlob(function(e,t){return void 0===t?t={autoBom:!1}:"object"!=typeof t&&(console.warn("Deprecated: Expected third argument to be a object"),t={autoBom:!t}),t.autoBom&&/^\s*(?:text\/\S*|application\/xml|\S*\/\S*\+xml)\s*;.*charset\s*=\s*utf-8/i.test(e.type)?new Blob(["\ufeff",e],{type:e.type}):e}(e,s),n);else if(r(e))t(e,n,s);else{var a=document.createElement("a");a.href=e,a.target="_blank",setTimeout((function(){o(a)}))}}:function(e,n,r,o){if((o=o||open("","_blank"))&&(o.document.title=o.document.body.innerText="downloading..."),"string"==typeof e)return t(e,n,r);var i="application/octet-stream"===e.type,c=/constructor/i.test(s.HTMLElement)||s.safari,l=/CriOS\/[\d]+/.test(navigator.userAgent);if((l||i&&c||a)&&"undefined"!=typeof FileReader){var u=new FileReader;u.onloadend=function(){var e=u.result;e=l?e:e.replace(/^data:[^;]*;/,"data:attachment/file;"),o?o.location.href=e:location=e,o=null},u.readAsDataURL(e)}else{var p=s.URL||s.webkitURL,d=p.createObjectURL(e);o?o.location=d:location.href=d,o=null,setTimeout((function(){p.revokeObjectURL(d)}),4e4)}});s.saveAs=i.saveAs=i,e.exports=i})?r.apply(t,[]):r)||(e.exports=o)},20136:e=>{e.exports=function(){return this.itsec["import-export"].data}()},52930:e=>{e.exports=function(){return this.itsec["import-export"].ui}()},31600:e=>{e.exports=function(){return this.itsec.packages.data}()},46725:e=>{e.exports=function(){return this.itsec.pages.tools}()},82839:e=>{e.exports=function(){return this.wp.a11y}()},87514:e=>{e.exports=function(){return this.wp.apiFetch}()},64893:e=>{e.exports=function(){return this.wp.components}()},9576:e=>{e.exports=function(){return this.wp.compose}()},48015:e=>{e.exports=function(){return this.wp.data}()},82521:e=>{e.exports=function(){return this.wp.date}()},6293:e=>{e.exports=function(){return this.wp.element}()},95122:e=>{e.exports=function(){return this.wp.i18n}()},81834:e=>{e.exports=function(){return this.wp.isShallowEqual}()},81019:e=>{e.exports=function(){return this.wp.keycodes}()},3571:e=>{e.exports=function(){return this.wp.plugins}()},14776:e=>{e.exports=function(){return this.wp.primitives}()},73470:e=>{e.exports=function(){return this.wp.url}()},99196:e=>{"use strict";e.exports=window.React},91850:e=>{"use strict";e.exports=window.ReactDOM},92819:e=>{"use strict";e.exports=window.lodash},76292:e=>{"use strict";e.exports=window.moment}},e=>{e.O(0,[7271,1930,5307,9443,135,976,6179,2018],(()=>(86219,e(e.s=86219))));var t=e.O();((window.itsec=window.itsec||{})["import-export"]=window.itsec["import-export"]||{}).tools=t}]);