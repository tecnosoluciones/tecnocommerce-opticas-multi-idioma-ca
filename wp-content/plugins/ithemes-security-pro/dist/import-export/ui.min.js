(globalThis.itsecWebpackJsonP=globalThis.itsecWebpackJsonP||[]).push([[8124],{25858:(e,t,n)=>{"use strict";n.r(t),n.d(t,{ExportForm:()=>P,ExportsList:()=>h});var r=n(52117),a=n(6293),l=n(92819),o=n(29508),s=n(95122),i=n(64893),c=n(82521),m=n(71930);const d=(0,r.Z)("td",{target:"e1vexvqy2"})({name:"12x64ox",styles:"width:20%"}),p=(0,r.Z)("div",{target:"e1vexvqy1"})({name:"r2g86h",styles:"display:flex;align-items:center;gap:1rem"}),u=(0,r.Z)(i.CheckboxControl,{target:"e1vexvqy0"})({name:"ob9sfu",styles:".components-base-control__field{margin-bottom:0;}"});function x({exports:e,onItemChange:t,selected:n,sources:r}){return e.length?e.map((e=>(0,a.createElement)("tr",{key:e.id},(0,a.createElement)(d,null,(0,a.createElement)(p,null,(0,a.createElement)(u,{label:(0,a.createElement)(i.VisuallyHidden,null,(0,s.sprintf)((0,s.__)("Select %s","it-l10n-ithemes-security-pro"),e.metadata.title)),checked:n.includes(e.id),onChange:t(e.id)}),(0,a.createElement)(m.xv,{text:e.metadata.title}))),(0,a.createElement)(d,null,(0,c.dateI18n)("M j, Y",e.metadata.exported_at)),(0,a.createElement)("td",null,Object.keys(e.sources).map((e=>(0,l.find)(r,{slug:e})?.title||e)).join(", "))))):(0,a.createElement)("tr",null,(0,a.createElement)("td",{colSpan:3},(0,s.__)("No exports found.","it-l10n-ithemes-security-pro")))}function h({exports:e,sources:t,singleSelection:n,selected:r,addSelected:c,removeSelected:h,setSelected:g,isLoading:E=!1,className:f}){return(0,a.createElement)("table",{className:(0,o.cx)("itsec-exports-list",f)},(0,a.createElement)("thead",null,(0,a.createElement)("tr",null,(0,a.createElement)(d,{as:"th"},(0,a.createElement)(p,null,!n&&(0,a.createElement)(u,{label:(0,a.createElement)(i.VisuallyHidden,null,(0,s.__)("Select All Exports","it-l10n-ithemes-security-pro")," "),checked:e.length>0&&e.every((e=>r.includes(e.id))),onChange:t=>g(t?(0,l.map)(e,"id"):[])}),(0,a.createElement)(m.xv,{textTransform:"uppercase",text:(0,s.__)("Name","it-l10n-ithemes-security-pro")}))),(0,a.createElement)(d,{as:"th"},(0,s.__)("Date","it-l10n-ithemes-security-pro")),(0,a.createElement)("th",null,(0,s.__)("Content","it-l10n-ithemes-security-pro")))),(0,a.createElement)("tbody",null,E?(0,a.createElement)("tr",null,(0,a.createElement)("td",{colSpan:3},(0,s.__)("Loading exports…","it-l10n-ithemes-security-pro"))):(0,a.createElement)(x,{exports:e,onItemChange:e=>t=>{n?g(t?[e]:[]):t?c(e):h(e)},selected:r,sources:t})))}var g=n(87462),E=n(94184),f=n.n(E),w=n(36058),y=n(96015),b=n(83904),v=n(8476),_=n(54639),C=n(33590);const k=(0,r.Z)(m.X6,{target:"eeyxbhf8"})("margin:1rem 0;@media screen and (min-width: ",(({theme:e})=>e.breaks.medium),"px){margin:2rem 0 1rem;}"),S=(0,r.Z)(i.Card,{target:"eeyxbhf7"})({name:"1h026t7",styles:"margin-bottom:1.5rem"}),L=(0,r.Z)(i.CardHeader,{target:"eeyxbhf6"})("padding:0.75rem 1.5rem!important;flex-direction:column!important;justify-content:flex-start!important;align-items:flex-start!important;gap:1rem;color:",(({theme:e})=>e.colors.text.dark),';& .components-base-control__field{display:flex;align-items:center;margin-bottom:0;& input[type="text"]{margin-left:12px;}& label{white-space:nowrap;margin-bottom:0;}}@media screen and (min-width: ',(({theme:e})=>e.breaks.small),"px){flex-direction:row!important;align-items:center!important;gap:2rem!important;}"),N=(0,r.Z)(i.CardBody,{target:"eeyxbhf5"})({name:"kcagvw",styles:"display:flex;flex-direction:column;padding:0 1.25rem 1rem!important"}),I=(0,r.Z)(i.Card,{target:"eeyxbhf4"})({name:"tgad8j",styles:"margin:0.75rem 0"}),O=(0,r.Z)(i.Icon,{target:"eeyxbhf3"})("fill:",(({theme:e})=>e.colors.text.muted),";"),Z=(0,r.Z)(i.CheckboxControl,{target:"eeyxbhf2"})("& .components-checkbox-control__label{color:",(({theme:e})=>e.colors.text.dark),";}"),z=(0,r.Z)(m.xv,{target:"eeyxbhf1"})({name:"12q2fk5",styles:"margin-left:2rem"}),M=(0,_.Zz)(C.ZP),D=(0,r.Z)(M,{target:"eeyxbhf0"})("display:",(({isExpanded:e})=>!e&&"none"),";margin:0.5rem 1.75rem 0;max-width:820px;padding:0.875rem 0;border-top:1px solid ",(({theme:e})=>e.colors.border.normal),";color:",(({theme:e})=>e.colors.text.dark),";& p{color:",(({theme:e})=>e.colors.text.muted),";font-size:0.75rem;}@media screen and (min-width: ",(({theme:e})=>e.breaks.medium),"px){& .itsec-components-checkbox-group-control__options{display:flex;flex-direction:column;flex-wrap:wrap;max-height:300px;}}");function P({sources:e,isCreating:t,createExport:n,titleRequired:r,children:o}){const[c,d]=(0,a.useState)(""),[p,u]=(0,a.useState)({}),[x,h,E,f]=(0,v.$X)((0,l.map)(e,"slug"));return(0,a.useEffect)((()=>f((0,l.map)(e,"slug"))),[e,f]),(0,a.createElement)(React.Fragment,null,(0,a.createElement)(k,{level:2,size:m.yH.LARGE,variant:m.rK.DARK,weight:600,text:(0,s.__)("Create an export","it-l10n-ithemes-security-pro")}),(0,a.createElement)("form",{onSubmit:e=>{e.preventDefault(),n({title:c,sources:x,options:p})}},(0,a.createElement)(S,null,(0,a.createElement)(L,null,(0,a.createElement)(i.TextControl,{label:(0,s.__)("Export Name","it-l10n-ithemes-security-pro"),className:"itsec-export-form__name",value:c,onChange:d,required:r}),(0,a.createElement)(i.CheckboxControl,{label:(0,s.__)("Include All Data","it-l10n-ithemes-security-pro"),className:"itsec-export-form__include-all",checked:e.every((e=>x.includes(e.slug))),onChange:t=>f(t?(0,l.map)(e,"slug"):[])})),(0,a.createElement)(N,null,e.map(((e,...t)=>(0,a.createElement)(j,(0,g.Z)({key:e.slug,source:e,options:p,setOptions:u,isIncluded:x.includes(e.slug),addSource:h,removeSource:E},t)))))),(0,a.createElement)(i.Flex,{justify:"end"},o,(0,a.createElement)(m.zx,{variant:"primary",type:"submit",disabled:!x.length||t,isBusy:t},(0,s.__)("Create","it-l10n-ithemes-security-pro")))))}function j({source:e,options:t,setOptions:n,isIncluded:r,addSource:l,removeSource:o,...c}){const[d,p]=(0,a.useState)(!1);return(0,a.createElement)(I,c,(0,a.createElement)(i.CardHeader,null,(0,a.createElement)(m.xv,{variant:m.rK.DARK,weight:600,text:e.title}),(0,a.createElement)(i.Tooltip,{text:(0,s.__)("Helpful text","it-l10n-ithemes-security-pro")},(0,a.createElement)("span",null,(0,a.createElement)(O,{icon:w.Z})))),(0,a.createElement)(i.CardBody,null,(0,a.createElement)("div",{style:{display:"flex",justifyContent:"space-between"}},(0,a.createElement)("div",null,(0,a.createElement)(Z,{label:(0,s.sprintf)((0,s.__)("Include “%s” in Export","it-l10n-ithemes-security-pro"),e.title),checked:r,onChange:t=>t?l(e.slug):o(e.slug)}),(0,a.createElement)(z,{as:"p",size:m.yH.SMALL,variant:m.rK.MUTED,text:e.description})),e.options&&r&&(0,a.createElement)(m.zx,{"aria-controls":`export-source${e.slug}`,"aria-expanded":d,icon:d?y.Z:b.Z,onClick:()=>p(!d),variant:"tertiary"})),(0,a.createElement)("div",null,e.options&&r&&(0,a.createElement)(R,{isExpanded:d,id:`export-source${e.slug}`,source:e,options:t,setOptions:n}))))}function R({isExpanded:e,id:t,source:r,options:l,setOptions:o}){return(0,a.createElement)(D,{tagName:"div",className:f()("rjsf","itsec-export-form__options-form",`itsec-export-form__options-form--${r.slug}`),additionalMetaSchemas:[n(27171)],schema:r.options,uiSchema:r.options.uiSchema,idPrefix:`itsec_${r.slug}`,formData:l[r.slug],id:t,onChange:e=>{o({...l,[r.slug]:e.formData})},isExpanded:e},(0,a.createElement)(React.Fragment,null))}n.p=window.itsecWebpackPublicPath},83904:(e,t,n)=>{"use strict";n.d(t,{Z:()=>l});var r=n(6293),a=n(14776);const l=(0,r.createElement)(a.SVG,{viewBox:"0 0 24 24",xmlns:"http://www.w3.org/2000/svg"},(0,r.createElement)(a.Path,{d:"M17.5 11.6L12 16l-5.5-4.4.9-1.2L12 14l4.5-3.6 1 1.2z"}))},96015:(e,t,n)=>{"use strict";n.d(t,{Z:()=>l});var r=n(6293),a=n(14776);const l=(0,r.createElement)(a.SVG,{viewBox:"0 0 24 24",xmlns:"http://www.w3.org/2000/svg"},(0,r.createElement)(a.Path,{d:"M6.5 12.4L12 8l5.5 4.4-.9 1.2L12 10l-4.5 3.6-1-1.2z"}))},36058:(e,t,n)=>{"use strict";n.d(t,{Z:()=>l});var r=n(6293),a=n(14776);const l=(0,r.createElement)(a.SVG,{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24"},(0,r.createElement)(a.Path,{d:"M12 4.75a7.25 7.25 0 100 14.5 7.25 7.25 0 000-14.5zM3.25 12a8.75 8.75 0 1117.5 0 8.75 8.75 0 01-17.5 0zM12 8.75a1.5 1.5 0 01.167 2.99c-.465.052-.917.44-.917 1.01V14h1.5v-.845A3 3 0 109 10.25h1.5a1.5 1.5 0 011.5-1.5zM11.25 15v1.5h1.5V15h-1.5z"}))},31600:e=>{e.exports=function(){return this.itsec.packages.data}()},82839:e=>{e.exports=function(){return this.wp.a11y}()},87514:e=>{e.exports=function(){return this.wp.apiFetch}()},64893:e=>{e.exports=function(){return this.wp.components}()},9576:e=>{e.exports=function(){return this.wp.compose}()},48015:e=>{e.exports=function(){return this.wp.data}()},82521:e=>{e.exports=function(){return this.wp.date}()},6293:e=>{e.exports=function(){return this.wp.element}()},95122:e=>{e.exports=function(){return this.wp.i18n}()},81834:e=>{e.exports=function(){return this.wp.isShallowEqual}()},81019:e=>{e.exports=function(){return this.wp.keycodes}()},14776:e=>{e.exports=function(){return this.wp.primitives}()},73470:e=>{e.exports=function(){return this.wp.url}()},99196:e=>{"use strict";e.exports=window.React},91850:e=>{"use strict";e.exports=window.ReactDOM},92819:e=>{"use strict";e.exports=window.lodash},76292:e=>{"use strict";e.exports=window.moment}},e=>{e.O(0,[7271,1930,5307,9443,135,976,6179,2018],(()=>(25858,e(e.s=25858))));var t=e.O();((window.itsec=window.itsec||{})["import-export"]=window.itsec["import-export"]||{}).ui=t}]);